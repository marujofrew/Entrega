# API Documentation

## Base URL

```
https://elite-manager-api-62571bbe8e96.herokuapp.com/api
```

---

## HTTP Codes

- `200 OK` ‚Üí Requisi√ß√£o conclu√≠da com sucesso.
- `201 Created` ‚Üí Recurso criado com sucesso.
- `400 Bad Request` ‚Üí Requisi√ß√£o inv√°lida.
- `401 Unauthorized` ‚Üí Acesso n√£o autorizado ou token inv√°lido.
- `429 Too Many Requests` ‚Üí Limite de requisi√ß√µes atingido.
- `500 Internal Server Error` ‚Üí Erro inesperado no servidor.

---

## Padr√£o de Respostas

### Sucesso

```json
{
  "success": true,
  "message": "Mensagem de sucesso",
  "data": { "..." }
}
```

### Erro

```json
{
  "success": false,
  "message": "Mensagem de erro",
  "error": "Detalhes do erro"
}
```

---

## Exemplos Espec√≠ficos

### 429 - Rate Limit

```json
{
  "success": false,
  "message": "‚ö†Ô∏è Limite de requisi√ß√µes excedido. Tente novamente em breve."
}
```

### 404 - Not Found

```json
{
  "success": false,
  "message": "Rota n√£o encontrada"
}
```

---

# Endpoints

## üîç Consultas

### GET /external/cpf/:cpf

Consulta dados cadastrais de um CPF.

**Par√¢metro:** `cpf` (string) ‚Äî obrigat√≥rio, apenas n√∫meros (ex: 12345678909)

**Sucesso 200:**

```json
{
  "success": true,
  "message": "Consulta realizada com sucesso",
  "data": {
    "cpf": "...",
    "nome": "...",
    "nome_mae": "...",
    "data_nascimento": "...",
    "sexo": "..."
  }
}
```

**Erros:** 400 (CPF inv√°lido), 500 (Erro interno)

---

### GET /external/cep/:cep

Consulta dados de um CEP.

**Par√¢metro:** `cep` (string) ‚Äî obrigat√≥rio, apenas n√∫meros (ex: 01001000)

**Sucesso 200:**

```json
{
  "success": true,
  "message": "Consulta realizada com sucesso",
  "data": {
    "cep": "...",
    "logradouro": "...",
    "complemento": "...",
    "unidade": "...",
    "bairro": "...",
    "localidade": "...",
    "uf": "...",
    "estado": "...",
    "regiao": "...",
    "ibge": "...",
    "gia": "...",
    "ddd": "...",
    "siafi": "..."
  }
}
```

**Erros:** 400 (CEP inv√°lido), 500 (Erro interno)

---

## ‚úâÔ∏è Comunica√ß√µes

### POST /communications/email

Envia um e-mail com conte√∫do HTML.

**Body:**

```json
{
  "recipient": "usuario@dominio.com",
  "subject": "Assunto do E-mail",
  "htmlContent": "<p>Conte√∫do em HTML</p>"
}
```

**Sucesso 200:**

```json
{
  "success": true,
  "message": "Email enviado com sucesso"
}
```

**Erros:** 400 (Campos obrigat√≥rios), 500 (Erro interno)

---

### POST /communications/sms

Envia SMS para um n√∫mero de telefone.

**Body:**

```json
{
  "phoneNumber": "5511999999999",
  "message": "Seu c√≥digo √© 123456"
}
```

**Sucesso 200:**

```json
{
  "success": true,
  "message": "SMS enviado com sucesso",
  "data": {
    "message": "...",
    "sms": {
      "id": 985,
      "userId": 7,
      "phoneNumber": "...",
      "message": "...",
      "status": "...",
      "scheduledFor": null,
      "sentAt": null,
      "createdAt": "...",
      "updatedAt": "...",
      "externalId": null,
      "errorMessage": null,
      "cost": null
    }
  }
}
```

**Erros:** 400 (Campos obrigat√≥rios), 500 (Erro interno)

---

## üí∏ Pagamentos

### POST /payments/for4payments/pix/generate

Gera pagamento Pix via For4Payments.

**Body:**

```json
{
  "name": "...",
  "email": "...",
  "cpf": "...",
  "phone": "...",
  "amount": 89.8,
  "description": "..."
}
```

**Sucesso 201:**

```json
{
  "success": true,
  "message": "Pagamento PIX gerado com sucesso",
  "data": {
    "paymentId": "...",
    "pixCode": "...",
    "pixQrCode": "..."
  }
}
```

**Erros:** 400 (Campos inv√°lidos), 500 (Erro interno)

---

### GET /payments/for4payments/pix/status/:paymentId

Consulta status do pagamento Pix.

**Par√¢metro:** `paymentId` (string) ‚Äî obrigat√≥rio

**Sucesso 200:**

```json
{
  "success": true,
  "message": "Status do pagamento consultado com sucesso",
  "data": {
    "paymentId": "...",
    "status": "..."
  }
}
```

**Erros:** 400 (Par√¢metro ausente), 500 (Erro interno)

---

### POST /payments/paybets/pix/generate

Gera Pix via PayBets.

**Body:**

```json
{
  "amount": 1,
  "external_id": "...",
  "clientCallbackUrl": "...",
  "name": "...",
  "email": "...",
  "document": "..."
}
```

**Sucesso 201:**

```json
{
  "success": true,
  "message": "Pix gerado com sucesso",
  "data": {
    "message": "...",
    "qrCodeResponse": {
      "transactionId": "...",
      "status": "...",
      "qrcode": "...",
      "amount": 1
    }
  }
}
```

**Erros:** 400 (Campos obrigat√≥rios), 500 (Erro interno)
